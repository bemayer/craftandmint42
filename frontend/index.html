<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://unpkg.com/mvp.css" />
  <title>DrawAndMint42</title>
  <link rel="icon" type="image/x-icon" href="./Blockchain_Logo.svg">
  <style>
    img {
      max-width: 100%
    }

    form {
      margin-bottom: 1rem
    }
  </style>
  <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js" type="text/javascript"></script>
</head>

<body>
  <header>
    <nav>
      <img alt="42" src="./42_Logo.svg" height="70" />
      <ul id="menu">
        <li><a id="menu-item-set-up" onclick="displayContent('set-up')" style="cursor: pointer; display: none">Set-up</a></li>
        <li><a id="menu-item-generate-image" onclick="displayContent('generate-image')"
            style="cursor: pointer; display: none">Generate image</a>
        </li>
        <li><a id="menu-item-show-nfts" onclick="loadNFTs(); displayContent('show-nfts')"
            style="cursor: pointer; display: none">Show NFTs</a>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="content" id="set-up" style="display: block">
      <h1>Set up</h1>
      <form id="dreamstudio-api-key-form" onsubmit="event.preventDefault(); checkDreamstudioAPIKey()">
        <label>DreamStudio API Key</label>
        <input type="text" id="dreamstudio-api-key" name="dreamstudio-api-key"
          placeholder="Enter DreamStudio API key" />
        <button type="submit" id="dreamstudio-api-key-submit">Submit</button>
        <div id="display-credits"></div>
      </form>

      <dialog id="error-dreamstudio-api-key">
        <p>Invalid OpenAI DreamStudio Key</p>
        <button id="close-error-dreamstudio-api-key"
          onclick="updateDisplay('error-dreamstudio-api-key', 'none')">Close</button>
      </dialog>

      <form id="private-key-form" onsubmit="event.preventDefault(); checkPrivateKey()">
        <label>Contract Admin Private Key on BNB Testnet</label>
        <input type="text" id="private-key" name="private-key" placeholder="Enter Private Key" />
        <button type="submit" id="private-key-submit">Submit</button>
        <div id="display-balance"></div>
      </form>

      <dialog id="error-private-key">
        <p>Invalid BNB Testnet Private Key</p>
        <button id="close-error-private-key" onclick="updateDisplay('error-private-key', 'none')" style="display: none">Close</button>
      </dialog>

      <form id="contract-abi-file" onsubmit="event.preventDefault(); readABIFile()">
        <label>Contract ABI File</label>
        <input type="file" id="abi-file">
        <button type="submit" id="abi-file-submit">Submit</button>
        <div id="display-abi-file"></div>
      </form>

      <form id="contract-address-form" onsubmit="event.preventDefault(); checkContractAddress()" style="display: none">
        <label>Contract Address</label>
        <input type="text" id="contract-address" name="contract-address" placeholder="Enter Contract Address" />
        <button type="submit" id="contract-address-submit">Submit</button>
        <div id="display-contract-name"></div>
      </form>

      <dialog id="error-contract-address">
        <p>Invalid Contract Address</p>
        <button id="close-error-contract-address"
          onclick="updateDisplay('error-contract-address', 'none')">Close</button>
      </dialog>

      <form id="pinata-credentials-form" onsubmit="event.preventDefault(); checkPinataCredentials()">
        <label>Pinata API Key & Secret</label>
        <input type="text" id="pinata-api-key" name="pinata-api-key" placeholder="Enter Pinata API key" />
        <button type="submit" id="pinata-credentials-submit">Submit</button>
        <div id="display-pinata-credentials"></div>
      </form>

      <dialog id="error-pinata-credentials">
        <p>Invalid Pinata API Key</p>
        <button id="close-error-pinata-credentials" onclick="updateDisplay('error-pinata-credentials', 'none')">Close</button>
      </dialog>

      <form id="generate-wallet-form" onsubmit="event.preventDefault(); generateWallet()" style="display: none">
        <label>New Wallet</label>
        <button type="submit" id="generate-wallet-button">Generate Wallet</button>
        <div id="generated-wallet"></div>
      </form>
    </div>

    <div class="content" id="generate-image" style="display: none">
      <h1>Image Generator with DreamStudio</h1>
      <form id="image-generator-form" onsubmit="event.preventDefault(); generateImage()">
        <label for="image-description">Description</label>
        <input type="text" id="image-description" name="image-description" placeholder="Enter image description" />
        <button type="submit" id="generate-image-button">Generate Image</button>
        <figure>
          <img id="generated-image" alt="Generated by Dall-E" style="display: none" />
          <figcaption><i id="generated-image-title"></i></figcaption>
        </figure>
      </form>

      <form id="store-image-form" onsubmit="event.preventDefault(); storeImageOnIPFS()" style="display: none">
        <label>Store image on IPFS</label>
        <button type="submit" id="store-image-button" disabled>Store Image</button>
        <div id="ipfs-hash"></div>
      </form>

      <form id="mint-form" onsubmit="event.preventDefault(); mintNFT()" style="display: none">
        <label>Mint Image</label>
        <button type="submit" id="mint-button" disabled>Mint</button>
        <div id="display-mint"></div>
      </form>
    </div>

    <div class="content" id="show-nfts" style="display: none;">
      <h1>NFTs Gallery</h1>
      <div id="nft-gallery"></div>
      <button id="refresh-nft-gallery" onclick="loadNFTs()">Refresh</button>
    </div>

  </main>

  <script src="app.js"></script>
</body>

</html>
